/**
 * @module CoreServicesModule
 **/
/** AppStateService **/
"use strict";
var core_1 = require('@angular/core');
/**
 * The AppStateService
 * @class AppStateService
 **/
var AppStateService = (function () {
    function AppStateService() {
        this._state = {};
    }
    Object.defineProperty(AppStateService.prototype, "state", {
        // already return a clone of the current state
        get: function () {
            return this._state = this._clone(this._state);
        },
        // never allow mutation
        set: function (value) {
            throw new Error('do not mutate the `.state` directly');
        },
        enumerable: true,
        configurable: true
    });
    AppStateService.prototype.get = function (prop) {
        // use our state getter for the clone
        var state = this.state;
        return state.hasOwnProperty(prop) ? state[prop] : state;
    };
    AppStateService.prototype.set = function (prop, value) {
        // internally mutate our state
        return this._state[prop] = value;
    };
    AppStateService.prototype._clone = function (object) {
        // simple object clone
        return JSON.parse(JSON.stringify(object));
    };
    AppStateService = __decorate([
        core_1.Injectable(), 
        __metadata('design:paramtypes', [])
    ], AppStateService);
    return AppStateService;
}());
exports.AppStateService = AppStateService;
//# sourceMappingURL=app-state.service.js.map