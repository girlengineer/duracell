<div [ngClass]="wrapperClasses" [class]="sizes[inputSize]" >

    <!-- Label -->
    <label [for]="idStr" class="text-input-label">
        {{label || placeholder}}
    </label>
    
    <!-- Input Group -->
    <div [ngClass]="{'input-group datepicker-group': datepicker, 'is-expandedBelow': opened }">

        <!-- The Input -->
        <input
            #input
            [attr.name]="name" 
            [attr.id]="idStr" 
            [attr.placeholder]="placeholder" 
            [ngClass]="inputClasses"
            [(ngModel)]="value" 
            [attr.maxlength]="maxlength"
            [attr.name]="inputName" 
            [readonly]="readOnly" 
            [textMask]="{mask: getMask, guide: false}"
            (focus)="onFocus()" 
            (focusout)="onBlur()" 
            (input)="onInput()"
        />
        <!-- End The Input -->

        <!-- Formatting Text (for simple date input type) -->
        <span class="formatting-text" [ngClass]="{'picker-formatting-text': datepicker}" aria-hidden="true" *ngIf="formattingText">
            <span class="format-text" (click)="focusInput()">{{formattingText}}</span>
        </span>

        <!-- Datepicker addon -->
        <button *ngIf="datepicker" class="ui-datepicker-trigger" (click)="toggle()" ></button>

        <!-- Tooltip -->
        <citi-tooltip *ngIf="tooltip" [tooltipTitle]="tooltipTitle" [tooltipBody]="tooltipText" [position]="tooltipPosition"></citi-tooltip>
    
    </div>
    <!-- End Input Group -->

    <!-- Calendar Container -->
    <div class="datepicker-calendar" *ngIf="opened">
        <div class="datepicker-calendar-container">
            <!-- Calendar Month Section -->
            <div class="datepicker-calendar-month-section">
            <!-- Previous Month -->
            <i class="prev-icon" (click)="prevMonth()"></i>  
            <span class="month-title">{{ currentDate.format('MMMM') }} {{ currentDate.format('YYYY') }}</span>
            <!-- Next Month -->
            <i class="next-icon" (click)="nextMonth()"></i>
            </div>
            <!-- Day Names -->
            <div class="datepicker-calendar-day-names">
            <span tabindex="1" >S</span>
            <span tabindex="1" >M</span>
            <span tabindex="1" >T</span>
            <span tabindex="1" >W</span>
            <span tabindex="1" >T</span>
            <span tabindex="1" >F</span>
            <span tabindex="1" >S</span>
            </div>
            <!-- Days Container -->
            <div class="days-container">
            <span class="day" *ngFor="let d of days; let i = index"
                                (click)="selectDate($event, d.momentObj)"
                                [ngClass]="{ 'disabled': !d.enabled, 'today': d.today, 'selected': d.selected }" tabindex="1" >
                {{ d.day }}
            </span>
            </div>
            <!-- Close Button -->
            <div class="datepicker-close-button" *ngIf="!options.autoApply">
            <button tabindex="1" type="button" class="ui-datepicker-close" (click)="close()">Close</button>
            </div>
        </div>
    </div>

    <!-- Error Messsage -->
    <span *ngIf="error" class="validation-message-danger"> {{errorMessage}} </span>
    <!-- End Error Message -->
    
</div>