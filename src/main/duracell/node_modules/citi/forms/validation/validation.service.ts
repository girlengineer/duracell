import { EventEmitter } from "@angular/core";

export class ValidationService {

    public errorAdded: EventEmitter<any>;
    public errorRemoved: EventEmitter<any>;
    public validateNow: EventEmitter<any>;

    public errors: any[];

    constructor() {
        this.errorAdded = new EventEmitter<any>();
        this.errorRemoved = new EventEmitter<any>();
        this.validateNow = new EventEmitter<any>();
    }

    addError: Function = function( error: any ) {
        this.errors.push(error);
        this.errorAdded.emit(error);
    }

    removeError: Function = function( error: any) {
        let elementPos = this.errors.indexOf(error.name);
        this.errors.splice(elementPos, 1);
        this.errorRemoved.emit(error);
    }

    validate: Function = function() {
        this.validateNow.emit();
    }
}