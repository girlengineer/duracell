<div #navigation class="menu" *ngIf="config && config.showNavigation">
    <div class="content-wrap">
        <div class="main-navigation {{config.showSign ? 'has-sign' : null}}" *ngIf="config.showMenuNavigation" role="navigation">
            <ul role="menubar">
                <li *ngFor="let link of config.menuNavigationItems; let i = index;">

                    <button *ngIf="!link.url"
                            [innerHTML]="link.title"
                            (click)="open($event, i)"
                            [class]="openElements[i] ? 'open' : ''"
                            aria-haspopup="true"
                            role="menuitem"
                    ></button>

                    <a *ngIf="link.url"
                       [routerLink]="['/bob']"
                       [innerHTML]="link.title"
                       [target]="link.target ? link.target : '_self'"
                       role="menuitem"
                    ></a>

                    <ul *ngIf="link.navigationItems" role="menu">
                        <li *ngFor="let link of link.navigationItems">
                            <a [attr.href]="link.url"
                               [innerHTML]="link.title"
                               [target]="link.target ? link.target : '_self'"
                               role="menuitem"
                            >
                            </a>
                        </li>
                    </ul>

                </li>
            </ul>
        </div>

        <div class="sign" *ngIf="config.showSign">
            <a 
                class="sign-button"
                *ngIf="config.signUrl" 
                [href]="config.signUrl" 
            >
                {{config.signWording}}
            </a>
            <button 
                class="sign-button"
                *ngIf="config.showSignModal"
                (click)="showSignModal = !showSignModal"
            >
                {{config.signWording}}
            </button>
            <citi-modal
                [(show)]="showSignModal"
                [title]="config.modalTitle"
                *ngIf="config.showSignModal"
                (showChange)="onModalShowChange($event)"
            >
                <form>

                    <!-- username input -->
                    <citi-input 
                        idStr="usernameInput" 
                        [name]="config.usernameName" 
                        [placeholder]="config.usernamePlaceholder" 
                        *ngIf="!config.showUserSelect" 
                        [requiredError]="config.userIdBlankError" 
                        [minLengthError]="config.userIdShortError" 
                        [minlength]="config.userIdMinChars" 
                        required="true"
                    ></citi-input>
                    <!-- end username input -->

                    <!-- username dropdown -->
                    <citi-dropdown 
                        id="userSelect" 
                        label="User Id" 
                        size="large" 
                        [name]="config.usernameName" 
                        (change)="onUserSelectChange($event)" 
                        *ngIf="config.showUserSelect"
                    >
                        <!-- usernames loop -->
                        <citi-dropdown-option 
                            *ngFor="let user of config.existingUserNames, let i = index" 
                            [value]="user" 
                            [label]="user" 
                            [selected]="i == 0 ? true : null"
                        ></citi-dropdown-option>

                        <!-- different user option -->
                        <citi-dropdown-option 
                            *ngFor="let user of ['1']" 
                            value="differentUser" 
                            [label]="config.addUserText"
                        ></citi-dropdown-option>

                        <!-- delete user option -->
                        <citi-dropdown-option 
                            *ngFor="let user of ['1']" 
                            value="deleteUser" 
                            [label]="config.deleteUserText"
                        ></citi-dropdown-option>
                    </citi-dropdown>
                    <!-- end username dropdown -->

                    <!-- password input -->
                    <citi-input 
                        idStr="passwordInput" 
                        [name]="config.passwordName" 
                        [placeholder]="config.passwordPlaceholder" 
                        [requiredError]="config.passwordBlankError" 
                        [minLengthError]="config.passwordShortError" 
                        [minlength]="config.passwordMinChars" 
                        required="true" 
                        type="password"
                    ></citi-input>
                    <!-- end password input -->

                    <!-- submit button -->
                    <citi-cta buttonType="submit" [value]="config.signWording"></citi-cta>
                    <!-- end submit button -->
                </form>
            </citi-modal>
        </div>
    </div>
</div>