<div class="welcome" *ngIf="config && config.showWelcomeBar">
    <div class="content">

        <!-- welcome section -->
        <div class="welcome" *ngIf="config.showWelcome">
            {{config.welcomeWording}} {{config.welcomeName}}
        </div>

        <!-- profile and settings section -->
        <div class="profile-and-settings" *ngIf="config.showProfileAndSettings">
            <a [href]="config.profileAndSettingsUrl">
                {{config.profileAndSettingsWording}}
            </a>
        </div>

        <!-- messages section -->
        <div class="messages {{showMessagePopup ? 'open' : ''}}" *ngIf="config.showMessages">

            <!-- Message link. Shows only if there is no message popup -->
            <a *ngIf="config.messagesUrl" [href]="config.messagesUrl">
                {{config.messagesWording}}
            </a>

            <!-- Button to show message popup. Shows only if there is a message popup -->
            <button 
                #titleBar
                class="title-bar" 
                *ngIf="!config.messagesUrl"
                (click)="toggleMessagePopup(true, $event)"
                (mouseup)="hideOutlines()"
                [attr.aria-expanded]="showMessagePopup ? true : false"
                aria-describedby="opensPopup"
            >
                <!-- The actual message count -->
                <span class="message-count">
                    {{config.messageCount}}
                </span>

                <!-- The message wording i.e. Messages -->
                <span class="message-wording">
                    {{config.messageWording}}
                </span>

                <span id="opensPopup" class="sr-only">Opens Popup</span>
            </button>

            <!-- Message popup. Shows only if it should be displayed -->
            <div class="popup" *ngIf="!config.messagesUrl && config.showMessages">

                <!-- Button to close the message popup. Shares a class with the open button -->
                <button #popupTitleBar class="title-bar" (click)="toggleMessagePopup(false, $event)" (mouseup)="hideOutlines()">

                    <!-- the actual message count -->
                    <span class="message-count">
                        {{config.messageCount}}
                    </span>
                    
                    <!-- the message wording i.e Messages -->
                    <span class="message-wording">
                        {{config.messageWording}}
                    </span>
                </button>

                <!-- the actual popup content. Message list, links, etc. -->
                <!-- This container accomodates a slide-open effect -->
                <div class="popup-content">

                    <!-- This container accomodates a fade-in effect -->
                    <div class="popup-items">

                        <!-- Message popup title -->
                        <citi-text-header level="6">{{config.title}}</citi-text-header>

                        <!-- Message popup message list -->
                        <ul class="top-messages">
                            <li *ngFor="let message of config.topMessages">
                                <a [href]="message.url">{{message.title}}</a>
                            </li>
                        </ul>

                        <!-- Message popup controls -->
                        <div class="controls">
                            <a [href]="config.viewAllMessagesUrl">{{config.viewAllMessagesText}}</a>
                            <a [href]="config.sendMessageUrl">{{config.sendMessageText}}</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- last login section -->
        <div class="last-login" *ngIf="config.showLastLogin">
            {{config.lastLoginWording}} {{config.lastLoginDateTime}}
        </div>
    </div>
</div>