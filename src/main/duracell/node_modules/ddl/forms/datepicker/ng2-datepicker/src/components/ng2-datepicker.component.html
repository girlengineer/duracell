<!-- Datepicker Container-->
<div class="form-group is-focused">
  <label [for]="idStr" [id]="labelId" class="text-input-label">
        {{label}}
    </label>
  <div class="datepicker-container u-is-unselectable displayBlock">
    <!-- Datepicker input field and button -->
    
    <div [ngClass]="{'datepicker-input-container': true, 'is-expandedBelow': opened }">
      

      <input #input 
        [ngClass]="inputClasses" 
        type="text" 
        [attr.name]="inputName" 
        class="datepicker-input" 
        [(ngModel)]="date.formatted" 
        (focusout)="onBlur()"
        [attr.aria-labelledby]="labelId"
        [attr.id]="idStr" 
      >

      <!--
      <citi-date-input (valueChange)="inputChange($event)"></citi-date-input>
      -->

      <div class="datepicker-input-icon" (click)="toggle()" >
        <i class="cal-icon"></i>
      </div>
    </div>
    <!-- Calendar Container -->
    <div class="datepicker-calendar" *ngIf="opened">
      <div class="datepicker-calendar-container">
          <!-- Calendar Month Section -->
          <div class="datepicker-calendar-month-section">
            <!-- Previous Month -->
            <i class="prev-icon" (click)="prevMonth()"></i>  
            <span class="month-title">{{ currentDate.format('MMMM') }} {{ currentDate.format('YYYY') }}</span>
            <!-- Next Month -->
            <i class="next-icon" (click)="nextMonth()"></i>
          </div>
          <!-- Day Names -->
          <div class="datepicker-calendar-day-names">
            <span tabindex="1" >S</span>
            <span tabindex="1" >M</span>
            <span tabindex="1" >T</span>
            <span tabindex="1" >W</span>
            <span tabindex="1" >T</span>
            <span tabindex="1" >F</span>
            <span tabindex="1" >S</span>
          </div>
          <!-- Days Container -->
          <div class="days-container">
            <span class="day" *ngFor="let d of days; let i = index"
                              (click)="selectDate($event, d.momentObj)"
                              [ngClass]="{ 'disabled': !d.enabled, 'today': d.today, 'selected': d.selected }" tabindex="1" >
              {{ d.day }}
            </span>
          </div>
          <!-- Close Button -->
          <div class="datepicker-close-button" *ngIf="!options.autoApply">
            <button tabindex="1" type="button" class="ui-datepicker-close" (click)="close()">Close</button>
          </div>
      </div>
    </div>

    <!-- Error Messsage -->
    <span *ngIf="error" class="validation-message-danger"> {{errorMessage}} </span>
    <!-- End Error Message -->
  </div>
</div>